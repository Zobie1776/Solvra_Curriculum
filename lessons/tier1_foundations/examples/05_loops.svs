//==================================================
// File: 05_loops.svs
//==================================================
// Author: ZobieLabs
// License: Duality Public License (DPL v1.0)
// Goal: Compare while and for loops in SolvraScript
// Objective: Demonstrate iteration patterns using both while and for loop constructs
//==================================================

//==================================================
// Section 1.0 - Lesson Objective
//==================================================

// Interactive guided tutorial: Master loops and iteration
// Run with: ./scripts/build.sh lessons/tier1_foundations/examples/05_loops.svs

//==================================================
// Section 2.0 - Tutorial Execution
//==================================================

fn sum_with_while(values) {
    let mut total = 0;
    let mut index = 0;
    let count = len(values);
    while index < count {
        total = total + values[index];
        index = index + 1;
    }
    return total;
}

fn sum_with_for(values) {
    let mut total = 0;
    for value in values {
        total = total + value;
    }
    return total;
}

fn run_tutorial() {
    println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
    println("â•‘  Welcome to SolvraScript â€” Lesson 5: Loops                â•‘");
    println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println();

    println("ðŸ“š What you'll learn:");
    println("  â€¢ How to use while loops for conditional iteration");
    println("  â€¢ How to use for loops to iterate over collections");
    println("  â€¢ When to choose while vs for loops");
    println("  â€¢ How to build iterative algorithms");
    println();

    println("Let's begin!");
    println();

    // Concept 1: while Loops
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("ðŸ“– Concept 1: while Loops");
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println();
    println("A 'while' loop repeats code as long as a condition is true.");
    println();
    println("Syntax:");
    println("  while condition {");
    println("      // code to repeat");
    println("  }");
    println();
    println("Example - Sum array with while:");
    println("  let mut index = 0;");
    println("  while index < len(values) {");
    println("      total = total + values[index];");
    println("      index = index + 1;");
    println("  }");
    println();

    let demo_array = [1, 2, 3, 4, 5];
    println("Let's sum the array: ", demo_array);
    let while_result = sum_with_while(demo_array);
    println("Result using while loop: ", while_result);
    println();

    let continue1 = inp("Press Enter to continue...");
    println();

    // Concept 2: for Loops
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("ðŸ“– Concept 2: for Loops");
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println();
    println("A 'for' loop iterates over items in a collection.");
    println("This is simpler and cleaner for array iteration!");
    println();
    println("Syntax:");
    println("  for item in collection {");
    println("      // use item");
    println("  }");
    println();
    println("Example - Sum array with for:");
    println("  for value in values {");
    println("      total = total + value;");
    println("  }");
    println();

    let for_result = sum_with_for(demo_array);
    println("Same array: ", demo_array);
    println("Result using for loop: ", for_result);
    println();

    let continue2 = inp("Press Enter to continue...");
    println();

    // Concept 3: Choosing the Right Loop
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("ðŸ“– Concept 3: When to Use while vs for");
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println();
    println("Use 'for' when:");
    println("  â€¢ Iterating over arrays or collections");
    println("  â€¢ You need each element one at a time");
    println("  â€¢ The number of iterations is known");
    println();
    println("Use 'while' when:");
    println("  â€¢ Looping until a condition changes");
    println("  â€¢ Number of iterations is unknown");
    println("  â€¢ You need custom loop control");
    println();

    // Verify both approaches give same result
    if while_result == for_result {
        println("[Self Check] Both loops produced the same result: ", while_result);
        println("This confirms they're equivalent for this task!");
    } else {
        println("[Self Check] Results differ - investigate loops!");
    }
    println();

    let continue3 = inp("Press Enter to continue...");
    println();

    // Concept 4: Build Your Own
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("ðŸ“– Concept 4: Interactive Loop Example");
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println();
    println("Now let's build your own array and sum it!");
    println();

    let num1 = inp("Enter first number: ");
    let num2 = inp("Enter second number: ");
    let num3 = inp("Enter third number: ");
    println();

    let your_array = [num1, num2, num3];
    println("Your array: ", your_array);
    println();

    let your_sum = sum_with_for(your_array);
    println("Sum of your array: ", your_sum);
    println();

    println("Let me show each step with a loop:");
    for value in your_array {
        println("  Processing: ", value);
    }
    println("  Final total: ", your_sum);
    println();

    let continue4 = inp("Press Enter to continue...");
    println();

    // Try-It-Yourself Section
    println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println("âœï¸  Try-It-Yourself Challenge");
    println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println();
    println("Let's test your understanding!");
    println();

    println("Question: Which loop is best for iterating over an array?");
    println("  a) while loop");
    println("  b) for loop");
    println("  c) Both are equally good");
    println();

    let answer = inp("Your answer (a/b/c): ");
    println();

    if answer == "b" || answer == "B" {
        println("âœ“ Correct! The 'for' loop is cleaner and simpler for arrays.");
        println("  It automatically handles indexing and iteration.");
        println("  Example: for item in array { ... }");
    } else {
        println("âœ— Not quite. The correct answer is 'b' â€” for loop");
        println("  While you CAN use 'while' loops for arrays,");
        println("  'for' loops are more concise and less error-prone.");
        println("  They don't require manual index management!");
    }
    println();

    let continue5 = inp("Press Enter to see summary...");
    println();

    // Summary
    println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println("ðŸ“‹ Lesson Summary");
    println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println();
    println("Today you learned:");
    println("  âœ“ How to use while loops for conditional iteration");
    println("  âœ“ How to use for loops for collection iteration");
    println("  âœ“ When to choose while vs for loops");
    println("  âœ“ How to build iterative algorithms");
    println();
    println("Key Takeaway:");
    println("  SolvraCore supports multiple iteration styles for flexible control.");
    println("  Choose 'for' for arrays and 'while' for custom conditions.");
    println("  Both are powerful tools for processing data!");
    println();

    // Next Steps
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("What would you like to do?");
    println("  [1] View lesson again");
    println("  [2] Continue to next lesson");
    println("  [3] Exit");
    println();

    let choice = inp("Your choice (1/2/3): ");
    println();

    if choice == "1" {
        println("ðŸ“– Restarting lesson...");
        println();
        run_tutorial();
    } else if choice == "2" {
        println("ðŸŽ“ Great! Run the next lesson with:");
        println("   ./scripts/learn.sh");
        println("   (Select lesson 6: Basic Math)");
    } else {
        println("ðŸ‘‹ Thanks for learning with us! See you next time.");
    }
    println();
}

fn main() {
    run_tutorial();
}

//--------------------------------------------------
// End comments: Compares while and for loop patterns for array iteration
// @ZNOTE: SolvraCore supports multiple iteration styles for flexible control flow
//--------------------------------------------------

//==================================================
// End of file
//==================================================
