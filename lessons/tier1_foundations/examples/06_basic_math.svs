//==================================================
// File: 06_basic_math.svs
//==================================================
// Author: ZobieLabs
// License: Duality Public License (DPL v1.0)
// Goal: Practice SolvraScript arithmetic helpers and formatting
// Objective: Demonstrate built-in math functions and arithmetic operations
//==================================================

//==================================================
// Section 1.0 - Lesson Objective
//==================================================

// Interactive guided tutorial: Master arithmetic and math functions
// Run with: ./scripts/build.sh lessons/tier1_foundations/examples/06_basic_math.svs

//==================================================
// Section 2.0 - Tutorial Execution
//==================================================

fn factorial(n) {
    if n <= 1 {
        return 1;
    }
    return n * factorial(n - 1);
}

fn show_operations(a, b) {
    println("  Inputs: ", a, ", ", b);
    println("  Add (+): ", a + b);
    println("  Subtract (sbt): ", sbt(a, b));
    println("  Divide (div): ", div(a, b));
    println("  Power (pow): ", pow(a, b));
}

fn run_tutorial() {
    println("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—");
    println("â•‘  Welcome to SolvraScript â€” Lesson 6: Basic Math           â•‘");
    println("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println();

    println("ðŸ“š What you'll learn:");
    println("  â€¢ How to use basic arithmetic operators (+, -, *, /)");
    println("  â€¢ How to use built-in math helpers (sbt, div, pow)");
    println("  â€¢ How to generate random numbers");
    println("  â€¢ How to build mathematical functions");
    println();

    println("Let's begin!");
    println();

    // Concept 1: Basic Arithmetic
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("ðŸ“– Concept 1: Basic Arithmetic Operators");
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println();
    println("SolvraScript supports standard arithmetic operators:");
    println("  +   Addition");
    println("  -   Subtraction");
    println("  *   Multiplication");
    println("  /   Division");
    println();
    println("Example:");
    println("  let sum = 5 + 3;      // 8");
    println("  let diff = 10 - 4;    // 6");
    println("  let product = 6 * 7;  // 42");
    println("  let quotient = 20 / 4; // 5");
    println();

    let a = 10;
    let b = 3;
    println("Let's try with ", a, " and ", b, ":");
    println("  ", a, " + ", b, " = ", a + b);
    println("  ", a, " - ", b, " = ", a - b);
    println("  ", a, " * ", b, " = ", a * b);
    println("  ", a, " / ", b, " = ", a / b);
    println();

    let continue1 = inp("Press Enter to continue...");
    println();

    // Concept 2: Built-in Math Helpers
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("ðŸ“– Concept 2: Built-in Math Helpers");
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println();
    println("SolvraScript provides helpful math functions:");
    println("  sbt(a, b)  - Subtract b from a");
    println("  div(a, b)  - Divide a by b");
    println("  pow(a, b)  - Raise a to power b");
    println();
    println("These helpers are especially useful in function pipelines!");
    println();

    println("Demonstration with ", a, " and ", b, ":");
    show_operations(a, b);
    println();

    // Quick self-check
    let manual = a - b;
    let builtin = sbt(a, b);
    if manual == builtin {
        println("[Self Check] sbt(", a, ", ", b, ") matches manual subtraction!");
    } else {
        println("[Self Check] Unexpected mismatch - investigate!");
    }
    println();

    let continue2 = inp("Press Enter to continue...");
    println();

    // Concept 3: Power and Advanced Operations
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("ðŸ“– Concept 3: Power and Advanced Operations");
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println();
    println("The pow() function computes exponents:");
    println("  pow(2, 3) = 2Â³ = 8");
    println("  pow(5, 2) = 5Â² = 25");
    println();

    println("Examples:");
    println("  pow(2, 3) = ", pow(2, 3));
    println("  pow(5, 2) = ", pow(5, 2));
    println("  pow(10, 0) = ", pow(10, 0), "  (anything to power 0 is 1)");
    println();

    let continue3 = inp("Press Enter to continue...");
    println();

    // Concept 4: Random Numbers and Factorial
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("ðŸ“– Concept 4: Random Numbers & Recursive Functions");
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println();
    println("Generate random numbers with random(min, max):");
    println("  let dice = random(1, 6);");
    println();

    let random_pick = random(1, 10);
    println("Random number between 1-10: ", random_pick);
    println();

    println("Here's a factorial function (recursive math!):");
    println("  fn factorial(n) {");
    println("      if n <= 1 { return 1; }");
    println("      return n * factorial(n - 1);");
    println("  }");
    println();

    println("Now you try! Calculate a factorial:");
    let n = inp("Enter a number (1-10): ");
    let result = factorial(n);
    println();
    println("Factorial of ", n, " is ", result);
    println();

    let continue4 = inp("Press Enter to continue...");
    println();

    // Try-It-Yourself Section
    println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println("âœï¸  Try-It-Yourself Challenge");
    println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println();
    println("Let's test your understanding!");
    println();

    println("Question: What does pow(3, 2) return?");
    println("  a) 5");
    println("  b) 6");
    println("  c) 9");
    println();

    let answer = inp("Your answer (a/b/c): ");
    println();

    if answer == "c" || answer == "C" {
        println("âœ“ Correct! pow(3, 2) = 3Â² = 3 Ã— 3 = 9");
        println("  The pow() function computes exponents.");
    } else {
        println("âœ— Not quite. The correct answer is 'c' â€” 9");
        println("  pow(3, 2) means '3 to the power of 2'");
        println("  This equals 3 Ã— 3 = 9");
        println("  Remember: pow(base, exponent)");
    }
    println();

    let continue5 = inp("Press Enter to see summary...");
    println();

    // Summary
    println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println("ðŸ“‹ Lesson Summary");
    println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    println();
    println("Today you learned:");
    println("  âœ“ How to use arithmetic operators (+, -, *, /)");
    println("  âœ“ How to use built-in helpers (sbt, div, pow)");
    println("  âœ“ How to generate random numbers with random()");
    println("  âœ“ How to build recursive mathematical functions");
    println();
    println("Key Takeaway:");
    println("  SolvraCore provides rich math primitives for computational tasks.");
    println("  Combine operators, helpers, and functions to solve complex");
    println("  mathematical problems efficiently!");
    println();

    // Next Steps
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("What would you like to do?");
    println("  [1] View lesson again");
    println("  [2] Continue to Tier 2 lessons");
    println("  [3] Exit");
    println();

    let choice = inp("Your choice (1/2/3): ");
    println();

    if choice == "1" {
        println("ðŸ“– Restarting lesson...");
        println();
        run_tutorial();
    } else if choice == "2" {
        println("ðŸŽ“ Excellent! You've completed Tier 1 Foundations!");
        println("   Ready for Tier 2? Run:");
        println("   ./scripts/learn.sh");
        println("   (Select Tier 2: Intermediate)");
    } else {
        println("ðŸ‘‹ Thanks for learning with us! See you next time.");
    }
    println();
}

fn main() {
    run_tutorial();
}

//--------------------------------------------------
// End comments: Introduces arithmetic builtins and random number generation
// @ZNOTE: SolvraCore provides rich math primitives for computational tasks
//--------------------------------------------------

//==================================================
// End of file
//==================================================
